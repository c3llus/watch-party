sequenceDiagram
    participant Host as Room Host
    participant API as API Service
    participant DB as PostgreSQL
    participant Email as Email Service

    Note over Host, Email: room invitation - google meet style persistent links

    Host->>API: POST /rooms/{roomId}/invite
    API->>API: validate host permissions
    API->>DB: check user exists
    
    alt user exists
        API->>DB: grant room access
        DB-->>API: access granted
        Note over DB: user can join directly
    else user not found  
        Note over API: send invitation anyway
    end
    
    API->>API: generate room link
    API->>Email: send invitation email
    Email-->>API: email delivered
    API-->>Host: invitation sent

    Note over Host, Email: invited user gets persistent room link via email
    Note over Host, Email: link works for multiple uses, no expiration