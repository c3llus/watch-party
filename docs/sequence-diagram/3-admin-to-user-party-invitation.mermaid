sequenceDiagram
    participant Admin as Admin (Logged-in)
    participant API as api-service
    participant DB as PostgreSQL
    participant Log as Cloud Logging

    Admin->>API: POST /rooms/{roomId}/invite ({"email": "user@example.com"})
    Note over Admin, API: Request includes Admin's JWT
    API->>API: Validate JWT and check user role is 'admin' or host
    API->>DB: SELECT id FROM users WHERE email = 'user@example.com'
    DB-->>API: User ID
    API->>DB: INSERT INTO room_access (user_id, room_id, access_type) VALUES (?, ?, 'granted')
    DB-->>API: Confirm insertion
    API->>Log: Log invitation event (structured JSON)
    API-->>Admin: HTTP 200 OK